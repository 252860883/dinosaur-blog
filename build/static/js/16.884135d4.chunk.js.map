{"version":3,"sources":["components/headerLink.tsx","article/threejs-开启web的3D大门.js"],"names":["Main","clickPosBtn","idName","dom","document","getElementById","window","scrollTo","top","offsetTop","left","behavior","_this2","this","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","props","headerLink","map","item","index","level","key","onClick","title","React","Component","Template","_this","Object","_Users_honghuidu_homework_dinosaur_blog_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_honghuidu_homework_dinosaur_blog_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_honghuidu_homework_dinosaur_blog_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","react__WEBPACK_IMPORTED_MODULE_5__","_components_headerLink__WEBPACK_IMPORTED_MODULE_7__","id"],"mappings":"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","file":"static/js/16.884135d4.chunk.js","sourcesContent":["import React from 'react'\nimport \"../style/components/headerLink.scss\"\nexport default class Main extends React.Component<any, any>{\n    componentDidMount() { }\n\n    clickPosBtn = (idName: string) => {\n        const dom: any = document.getElementById(idName);\n        window.scrollTo({\n            top: dom.offsetTop - 10,\n            left: 0,\n            behavior: 'smooth'\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"headerLink\">\n                <div className=\"content\">\n                    <div className=\"real-content\">\n                        <div className='tag'>Reading Assistance ·</div>\n                        {\n                            this.props.headerLink.map((item: any, index: number) => {\n                                return <span className={'a' + item.level} key={index} onClick={() => this.clickPosBtn(item.title)}>{item.title}</span>\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React, { Fragment } from 'react'\nimport '../style/main.scss'\nimport HeaderLink from \"../components/headerLink\"\nexport default class Template extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            headerLink: [{\"level\":\"h3\",\"title\":\"基础框架\"},{\"level\":\"h4\",\"title\":\"sence（场景）\"},{\"level\":\"h4\",\"title\":\"camera（相机）\"},{\"level\":\"h4\",\"title\":\"renderer（渲染器）\"},{\"level\":\"h4\",\"title\":\"三者关系\"},{\"level\":\"h3\",\"title\":\"让物体动起来\"},{\"level\":\"h4\",\"title\":\"stats 性能监听\"}]\n        }\n    }\n    componentWillMount(){\n    }\n    componentDidMount() {\n    }\n    render() {\n        return (\n            <Fragment>\n                <HeaderLink headerLink={this.state.headerLink}></HeaderLink>\n                <div className=\"article\">\n<div className=\"title-content\"><h1 className=\"title\">threejs 开启web的3D大门</h1></div>\n<h3 id='基础框架'>基础框架</h3>\n\n<pre><code><span></span>\n<span>// 创建一个场景</span>\n<span>scene = new THREE.Scene();</span>\n<span></span>\n<span>// 透视相机</span>\n<span>camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.01, 10);</span>\n<span>camera.position.z = 1;</span>\n<span></span>\n<span>// 向场景里放物体</span>\n<span>geometry = new THREE.BoxGeometry(1, 0.05, 0.05);</span>\n<span>material = new THREE.MeshNormalMaterial();</span>\n<span>mesh = new THREE.Mesh(geometry, material);</span>\n<span>scene.add(mesh);</span>\n<span></span>\n<span>// 渲染器</span>\n<span>renderer = new THREE.WebGLRenderer({'{'} antialias: true });</span>\n<span>renderer.setSize(window.innerWidth, window.innerHeight);</span>\n<span>document.body.appendChild(renderer.domElement);</span>\n<span></span>\n</code></pre>\n\n<p>上面的代码示例是一个构建3D视图的流程，那么我们了解一下这几个概念</p>\n\n<h4 id='sence（场景）'>sence（场景）</h4>\n\n<p>我们在绘制任何东西的前提都需要构建一个场景，很简单，直接 <code>var scene = new THREE.Scene();</code>即可创建一个场景。场景创建完成可以向场景中添加物体。</p>\n\n<h4 id='camera（相机）'>camera（相机）</h4>\n\n<p>相机决定了我们从哪个视角看到物体，视角不同看到的物体场景自然也不相同。通过设置不同的相机参数就可以让相机产生不一样的效果。同时Threejs中也配有多种相机，上面的代码用到的是透视相机（THREE.PerspectiveCamera）。</p>\n\n<h4 id='renderer（渲染器）'>renderer（渲染器）</h4>\n\n<p>最后就将我们的绘制进行渲染器渲染，所有的渲染都是画在domElement上的，所以这里的appendChild表示将这个domElement挂接在body下面，这样渲染的结果就能够在页面中显示了。</p>\n\n<h4 id='三者关系'>三者关系</h4>\n\n<p>通俗来讲，我们可以理解为<code>sence</code>创建了一个场景，我们向场景里添加物体，然后通过<code>camera</code>拍摄，将拍摄的场景交给<code>renderer</code>进行渲染。</p>\n\n<h3 id='让物体动起来'>让物体动起来</h3>\n\n<p>让物体动起来有两种方法，一种是改变相机<code>camera</code>的位置，一种是改变物体<code>mesh</code>的位置：</p>\n\n<pre><code><span></span>\n<span>function animate() {'{'}</span>\n<span>    // renderer.clear();</span>\n<span>    var a = 0.01</span>\n<span>    // 改变相机的位置</span>\n<span>    // camera.position.y -= a</span>\n<span>    // camera.position.z -= a</span>\n<span>    // camera.position.x -= a</span>\n<span></span>\n<span>    // 改变物体的位置</span>\n<span>    // mesh.position.z -= 1;//位移</span>\n<span>    mesh.rotation.x -= 0.01;//旋转</span>\n<span>    mesh.rotation.z -= 0.01;//旋转</span>\n<span></span>\n<span>    renderer.render(scene, camera);</span>\n<span>    requestAnimationFrame(animate)</span>\n<span>}</span>\n<span></span>\n</code></pre>\n\n<h4 id='stats 性能监听'>stats 性能监听</h4>\n\n<p>既然涉及到循环了，那肯定是一个耗性能的工作了，在这里我们引入 <code>stats.js</code> 来进行性能监测。<br></br>首先引入 <code>stats.js</code> ,github地址：https://github.com/mrdoob/stats.js</p>\n\n<pre><code><span></span>\n<span> &lt;script src=\"./stats.js\"&gt;&lt;/script&gt;</span>\n<span></span>\n</code></pre>\n\n<p>将 stats 相关代码加入我们之前的代码中：</p>\n\n<pre><code><span></span>\n<span>// 渲染器</span>\n<span>var renderer;</span>\n<span>// 监听器</span>\n<span>var stats;</span>\n<span>function initThree() {'{'}</span>\n<span>    console.log(window.innerHeight)</span>\n<span>    width = window.innerWidth</span>\n<span>    height = window.innerHeight</span>\n<span>    renderer = new THREE.WebGLRenderer({'{'}</span>\n<span>        antialias: true</span>\n<span>    });</span>\n<span>    renderer.setSize(width, height);</span>\n<span>    document.getElementsByTagName('body')[0].appendChild(renderer.domElement);</span>\n<span>    renderer.setClearColor(0xFFFFFF, 1.0);</span>\n<span>    // 新建一个 stats 实例</span>\n<span>    stats = new Stats();</span>\n<span>    stats.domElement.style.position = 'absolute';</span>\n<span>    stats.domElement.style.left = '0px';</span>\n<span>    stats.domElement.style.top = '0px';</span>\n<span>    document.getElementsByTagName('body')[0].appendChild(stats.domElement);</span>\n<span>}</span>\n<span></span>\n<span>...</span>\n<span></span>\n<span>// 动起来</span>\n<span>function animate() {'{'}</span>\n<span>    // 改变物体的位置</span>\n<span>    mesh.rotation.x -= 0.01;//旋转</span>\n<span>    mesh.rotation.z -= 0.01;//旋转</span>\n<span>    renderer.render(scene, camera);</span>\n<span>    requestAnimationFrame(animate);</span>\n<span>    // 来统计时间和帧数</span>\n<span>    stats.update();</span>\n<span>}</span>\n<span></span>\n</code></pre>\n\n<p>虽然这个办法可以让物体动起来，但是对于复杂的动画效果还是不适用，这里推荐一个动画引擎 <code>Tween.js</code>来实现不规则的动画。</p>\n</div>\n            </Fragment>\n        )\n    }\n}"],"sourceRoot":""}