{"version":3,"sources":["components/article.tsx","assets/sticky-title.png","assets/normal-title.png"],"names":["Article","state","topArticleMenu","normalArticleMenu","showArticleMenu","limit","page","total","clickToArticle","item","_this","props","history","push","link","this","handleArticleLists","slice","setState","ArticleMenu","filter","top","sort","a","b","Date","date","getTime","Number","length","getShowArticleMenu","e","_this2","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","className","hideNormal","alt","src","require","map","key","onClick","split","title","React","Component","withRouter","module","exports","__webpack_require__","p"],"mappings":"4KAcMA,6MACFC,MAAQ,CACJC,eAAgB,GAChBC,kBAAmB,GACnBC,gBAAiB,GACjBC,MAAO,KACPC,KAAM,EACNC,MAAO,KAgCXC,eAAiB,SAACC,GACdC,EAAKC,MAAMC,QAAQC,KAAKJ,EAAKK,0FA9B7BC,KAAKC,gEAGUb,GACf,IAAME,EAAQU,KAAKd,MAAMI,MACnBC,EAAOS,KAAKd,MAAMK,KACnBH,IAAmBA,EAAoBY,KAAKd,MAAME,mBACvD,IAAMC,EAAkBD,EAAkBc,OAAOX,EAAO,GAAKD,EAAOC,EAAOD,GAC3EU,KAAKG,SAAS,CACVd,iEAKJ,IAAMF,EAA6BiB,IAAYC,OAAO,SAAAX,GAAI,OAAIA,EAAKY,MAC7DlB,EAAgCgB,IAAYC,OAAO,SAAAX,GAAI,OAAKA,EAAKY,MAEvElB,EAAkBmB,KAAK,SAACC,EAAQC,GAC5B,OAAO,IAAIC,KAAKD,EAAEE,MAAMC,UAAY,IAAIF,KAAKF,EAAEG,MAAMC,YAEzD,IAAMpB,EAAgBqB,OAAOzB,EAAkB0B,OAASd,KAAKd,MAAMI,OACnEU,KAAKG,SAAS,CACVhB,iBACAC,oBACAI,MAAOJ,EAAkB0B,OAASd,KAAKd,MAAMI,MAAQE,EAAQ,EAAIA,IAErEQ,KAAKe,mBAAmB3B,6CAOV4B,GAAc,IAAAC,EAAAjB,KAC5BA,KAAKG,SAAS,CAAEZ,KAAMyB,GAAK,WACvBC,EAAKF,wDAIJ,IAAAG,EAAAlB,KACL,OACImB,EAAAX,EAAAY,cAAA,OAAKC,UAAU,iBAEa,IAApBrB,KAAKd,MAAMK,OAAeS,KAAKJ,MAAM0B,YAAcH,EAAAX,EAAAY,cAAA,OAAKG,IAAI,GAAGF,UAAU,gBAAgBG,IAAKC,EAAQ,OAGtGzB,KAAKd,MAAMC,eAAeuC,IAAI,SAAChC,GAC3B,OAAwB,IAApBwB,EAAKhC,MAAMK,KAAmB,GAE9B4B,EAAAX,EAAAY,cAAA,OAAKO,IAAKjC,EAAKK,KAAMsB,UAAU,gCAAgCO,QAAS,kBAAMV,EAAKzB,eAAeC,KAC9FyB,EAAAX,EAAAY,cAAA,QAAMC,UAAU,QAAQ3B,EAAKiB,KAAKkB,MAAM,KAAK,GAA7C,KACAV,EAAAX,EAAAY,cAAA,QAAMC,UAAU,SAAS3B,EAAKoC,WAMzC9B,KAAKJ,MAAM0B,YAAcH,EAAAX,EAAAY,cAAA,OAAKG,IAAI,GAAGF,UAAU,gBAAgBG,IAAKC,EAAQ,QAG5EzB,KAAKJ,MAAM0B,YAActB,KAAKd,MAAMG,gBAAgBqC,IAAI,SAAChC,GACtD,OACIyB,EAAAX,EAAAY,cAAA,OAAKO,IAAKjC,EAAKK,KAAMsB,UAAU,eAAeO,QAAS,kBAAMV,EAAKzB,eAAeC,KAC7EyB,EAAAX,EAAAY,cAAA,QAAMC,UAAU,QAAQ3B,EAAKiB,KAAKkB,MAAM,KAAK,GAA7C,KACAV,EAAAX,EAAAY,cAAA,QAAMC,UAAU,SAAS3B,EAAKoC,kBA1ExCC,IAAMC,WAmFbC,gBAAWhD,8CCjG1BiD,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/50.5e3c2091.chunk.js","sourcesContent":["import React from 'react'\nimport { ArticleMenu } from '../router/routerMap'\nimport '../style/article.scss'\nimport { withRouter } from 'react-router-dom'\n\ninterface IState {\n    topArticleMenu: Array<any>,\n    normalArticleMenu: Array<any>,\n    showArticleMenu: Array<any>,\n    limit: number,\n    page: number,\n    total: number\n}\n\nclass Article extends React.Component<any, IState> {\n    state = {\n        topArticleMenu: [],\n        normalArticleMenu: [],\n        showArticleMenu: [],\n        limit: 1400,\n        page: 1,\n        total: 0\n    }\n    componentDidMount() {\n        this.handleArticleLists()\n    }\n\n    getShowArticleMenu(normalArticleMenu?: any) {\n        const limit = this.state.limit\n        const page = this.state.page\n        if (!normalArticleMenu) normalArticleMenu = this.state.normalArticleMenu\n        const showArticleMenu = normalArticleMenu.slice((page - 1) * limit, page * limit)\n        this.setState({\n            showArticleMenu\n        })\n    }\n\n    handleArticleLists() {\n        const topArticleMenu: Array<any> = ArticleMenu.filter(item => item.top);\n        const normalArticleMenu: Array<any> = ArticleMenu.filter(item => !item.top);\n        // 对文章进行时间排序\n        normalArticleMenu.sort((a: any, b: any) => {\n            return new Date(b.date).getTime() - new Date(a.date).getTime()\n        })\n        const total: number = Number(normalArticleMenu.length / this.state.limit)\n        this.setState({\n            topArticleMenu,\n            normalArticleMenu,\n            total: normalArticleMenu.length % this.state.limit ? total + 1 : total\n        })\n        this.getShowArticleMenu(normalArticleMenu)\n    }\n\n    clickToArticle = (item: any) => {\n        this.props.history.push(item.link);\n    }\n\n    pageCurrentChange(e: any): void {\n        this.setState({ page: e }, () => {\n            this.getShowArticleMenu();\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"article-lists\">\n                {\n                    this.state.page === 1 && !this.props.hideNormal && <img alt=\"\" className=\"article-title\" src={require('../assets/sticky-title.png')} ></img>\n                }\n                {\n                    this.state.topArticleMenu.map((item: any) => {\n                        if (this.state.page !== 1) return \"\";\n                        return (\n                            <div key={item.link} className=\"article-item article-item-top\" onClick={() => this.clickToArticle(item)}>\n                                <span className='time'>{item.date.split(' ')[0]} </span>\n                                <span className='title'>{item.title}</span>\n                            </div>\n                        )\n                    })\n                }\n                {\n                    !this.props.hideNormal && <img alt=\"\" className=\"article-title\" src={require('../assets/normal-title.png')} />\n                }\n                {\n                    !this.props.hideNormal && this.state.showArticleMenu.map((item: any) => {\n                        return (\n                            <div key={item.link} className=\"article-item\" onClick={() => this.clickToArticle(item)}>\n                                <span className='time'>{item.date.split(' ')[0]} </span>\n                                <span className='title'>{item.title}</span>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        )\n    }\n}\nexport default withRouter(Article);\n","module.exports = __webpack_public_path__ + \"static/media/sticky-title.a73289b2.png\";","module.exports = __webpack_public_path__ + \"static/media/normal-title.67301072.png\";"],"sourceRoot":""}